{"version":3,"sources":["views/documentos/parametrizacao/form/index.jsx","components/isAzure/index.jsx","@core/components/breadcrumbs/index.js"],"names":["MySwal","withReactContent","Swal","DocumentosTiposParametrizacaoForm","navigate","useNavigate","id","useParams","item","_useState","useState","_useState2","_slicedToArray","setDocumentoTipo","_useState3","_useState4","setPara","_useState5","_useState6","data","setData","isAzure","statusOPT","value","label","_useForm","useForm","reset","control","handleSubmit","setError","setValue","formState","errors","undefined","useEffect","httpRequest","concat","method","token","getToken","then","res","body","tipo_funcionario","x","y","index","tipo","_jsxs","Fragment","children","_jsx","Breadcrumbs","title","link","Row","Col","sm","Card","CardBody","Form","onSubmit","dados","documento_tipo_id","fire","icon","text","customClass","confirmButton","className","xl","md","Label","for","Controller","name","render","_ref","field","Select","_objectSpread","options","classNamePrefix","theme","selectThemeColors","classnames","defaultValue","_ref2","Input","placeholder","length","_ref3","_ref4","Button","type","color","jwt","require","isAuthenticated","useIsAuthenticated","verify","BreadCrumbs","props","Breadcrumb","BreadcrumbItem","tag","Link","to","map","Wrapper","isLastItem","active"],"mappings":"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","file":"static/js/48.b23def14.chunk.js","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Form,\r\n  Label,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Button,\r\n} from \"reactstrap\";\r\nimport Select from \"react-select\";\r\nimport { selectThemeColors } from \"@utils\";\r\n\r\n// ** Custom Components\r\nimport Breadcrumbs from \"@components/breadcrumbs\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport classnames from \"classnames\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nconst MySwal = withReactContent(Swal);\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\n//components\r\nimport isAzure from \"../../../../components/isAzure\";\r\nimport { getToken } from \"../../../../services/Auth\";\r\nimport { httpRequest } from \"../../../../services/Api\";\r\n\r\nconst DocumentosTiposParametrizacaoForm = () => {\r\n  let navigate = useNavigate();\r\n\r\n  let { id } = useParams();\r\n  let { item } = useParams();\r\n  const [documentoTipo, setDocumentoTipo] = useState(null);\r\n  const [para, setPara] = useState(null);\r\n  const [data, setData] = useState(null);\r\n\r\n  isAzure();\r\n\r\n  const statusOPT = [\r\n    { value: \"empresa\", label: \"empresa\" },\r\n    { value: \"funcionario\", label: \"funcionario\" },\r\n  ];\r\n\r\n  const {\r\n    reset,\r\n    control,\r\n    setError,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useForm({  });\r\n\r\n  if (id === undefined) {\r\n    navigate(`/clientes`);\r\n  }\r\n\r\n  useEffect(() => {\r\n    httpRequest(`documentos/tipos/${id}`, {\r\n      method: \"GET\",\r\n      token: getToken(),\r\n    }).then((res) => {\r\n      setDocumentoTipo(res.body);\r\n    });\r\n  }, []);\r\n\r\n  if (item !== undefined) {\r\n    useEffect(() => {\r\n      httpRequest(`documentos/tipos/parse/${item}`, {\r\n        method: \"GET\",\r\n        token: getToken(),\r\n      }).then((res) => {\r\n        reset({\r\n          tipo_funcionario: res.body.tipo_funcionario,\r\n          x: res.body.x,\r\n          y: res.body.y,\r\n          index: res.body.index,\r\n        });\r\n        setValue(\"tipo\", {\r\n          value: res.body.tipo,\r\n          label: res.body.tipo,\r\n        });\r\n        setPara(res.body);\r\n      });\r\n    }, []);\r\n  }\r\n\r\n  const onSubmit = (data) => {\r\n    setData(data);\r\n    if (data.tipo !== undefined && data.tipo_funcionario != \"\") {\r\n      const dados = {\r\n        tipo: data.tipo.value,\r\n        documento_tipo_id: id,\r\n        tipo_funcionario: data.tipo_funcionario,\r\n        x: data.x,\r\n        y: data.y,\r\n        // index: data.index,\r\n      };\r\n      if (item === undefined) {\r\n        httpRequest(`documentos/tipos/parse`, {\r\n          method: \"POST\",\r\n          body: dados,\r\n          token: getToken(),\r\n        }).then((res) => {\r\n          MySwal.fire({\r\n            icon: \"success\",\r\n            title: \"Sucesso!\",\r\n            text: \"Cadastro realizada com sucesso.\",\r\n            customClass: {\r\n              confirmButton: \"btn btn-success\",\r\n            },\r\n          });\r\n          navigate(`/documento/tipos/parametrizacao/${id}`);\r\n        });\r\n      } else {\r\n        httpRequest(`documentos/tipos/parse/${item}`, {\r\n          method: \"PUT\",\r\n          body: dados,\r\n          token: getToken(),\r\n        }).then((res) => {\r\n          MySwal.fire({\r\n            icon: \"success\",\r\n            title: \"Sucesso!\",\r\n            text: \"Cadastro atualizado com sucesso.\",\r\n            customClass: {\r\n              confirmButton: \"btn btn-success\",\r\n            },\r\n          });\r\n          navigate(`/documento/tipos/parametrizacao/${id}`);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Breadcrumbs\r\n        title=\"Documentos\"\r\n        data={[\r\n          { title: \"Documentos\", link: \"/documentos\" },\r\n          { title: \"Tipos\", link: \"/documento/tipos\" },\r\n          { title: \"Nova Parametrização\" },\r\n        ]}\r\n      />\r\n      <Row>\r\n        <Col sm=\"12\">\r\n          <Card>\r\n            <CardBody>\r\n              <Form onSubmit={handleSubmit(onSubmit)}>\r\n                <Row>\r\n                  <Col className=\"mb-1\" xl=\"4\" md=\"6\" sm=\"12\">\r\n                    <Label className=\"form-label\" for=\"tipo\">\r\n                      Tipo\r\n                    </Label>\r\n\r\n                    <Controller\r\n                      id=\"tipo\"\r\n                      control={control}\r\n                      name=\"tipo\"\r\n                      render={({ field }) => (\r\n                        <Select\r\n                          options={statusOPT}\r\n                          classNamePrefix=\"select\"\r\n                          theme={selectThemeColors}\r\n                          className={classnames(\"react-select\", {\r\n                            \"is-invalid\":\r\n                            data !== null &&\r\n                            (data.tipo === undefined), \r\n                          })}\r\n                          {...field}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Col>\r\n                  <Col className=\"mb-1\" xl=\"4\" md=\"6\" sm=\"12\">\r\n                    <Label className=\"form-label\" for=\"tipo_funcionario\">\r\n                      Campo\r\n                    </Label>\r\n                    <Controller\r\n                      defaultValue=\"\"\r\n                      control={control}\r\n                      id=\"tipo_funcionario\"\r\n                      name=\"tipo_funcionario\"\r\n                      render={({ field }) => (\r\n                        <Input\r\n                          placeholder=\"cnpj, cpf, cnh, matricula, pis, rg\"\r\n                          className={classnames(\"form-control\", {\r\n                            \"is-invalid\":\r\n                              data !== null &&\r\n                              (data.tipo_funcionario === null || !data.tipo_funcionario.length),\r\n                          })}\r\n                          {...field}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Col>\r\n                  <Col className=\"mb-1\" xl=\"4\" md=\"6\" sm=\"12\">\r\n                    <Label className=\"form-label\" for=\"x\">\r\n                      X\r\n                    </Label>\r\n                    <Controller\r\n                      defaultValue=\"\"\r\n                      control={control}\r\n                      id=\"x\"\r\n                      name=\"x\"\r\n                      render={({ field }) => (\r\n                        <Input\r\n                          placeholder=\"X\"\r\n                          {...field}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Col>\r\n                  <Col className=\"mb-1\" xl=\"4\" md=\"6\" sm=\"12\">\r\n                    <Label className=\"form-label\" for=\"y\">\r\n                      Y\r\n                    </Label>\r\n                    <Controller\r\n                      defaultValue=\"\"\r\n                      control={control}\r\n                      id=\"y\"\r\n                      name=\"y\"\r\n                      render={({ field }) => (\r\n                        <Input\r\n                          placeholder=\"Y\"\r\n                          {...field}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Col>\r\n                  {/* <Col className=\"mb-1\" xl=\"4\" md=\"6\" sm=\"12\">\r\n                    <Label className=\"form-label\" for=\"index\">\r\n                      Posição\r\n                    </Label>\r\n                    <Controller\r\n                      defaultValue=\"\"\r\n                      control={control}\r\n                      id=\"index\"\r\n                      name=\"index\"\r\n                      render={({ field }) => (\r\n                        <Input\r\n                          placeholder=\"Posição\"\r\n                          {...field}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Col> */}\r\n                  \r\n                </Row>\r\n                <div className=\" text-end w-100\">\r\n                  <Button type=\"submit\" color=\"primary\">\r\n                    Salvar\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n            </CardBody>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default DocumentosTiposParametrizacaoForm;\r\n","import { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useIsAuthenticated } from \"@azure/msal-react\";\r\nconst jwt = require(\"jsonwebtoken\");\r\n\r\nimport { getToken } from \"../../services/Auth\";\r\n\r\nconst isAzure = () => {\r\n  let navigate = useNavigate();\r\n  const isAuthenticated = useIsAuthenticated();\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      navigate(\"/login\");\r\n    }else{\r\n      const payload = jwt.verify(getToken(), \"aIebX2X9oCZE1gCNFlE0lSxPAKVqJfL7+8WUcMVcz677+V6JnRomzKfg03EIR6VlSAf2kWQSiiTDP8MF3Js7is9i7+YdCPTw+sifbuNeeCZWLr1QJCrGaRacvD4qKzzpXNkNeKhDv0h6rQW/JJ8dX94rK5esVxtbupCptX8HzfL8rmUSLI/l78ddYfkb+RkuHH5PY8TYpdUBv1h3qUYo4L62QUX/Ze5wqhYUuhPvmOAYIoz7j4SABxT2JciOn9Wy1wraZ268VzhgLilykQBH5QC6lbNyfIegB79R0QYQrYk5IL1gfmxY2lKIDeCYB9p8NIF8qfCyD/RJMQOUEv9z9A==\");\r\n      if(!payload) {\r\n        navigate(\"/login\");\r\n      }\r\n    }\r\n  }, [isAuthenticated]);\r\n}\r\n\r\nexport default isAzure;","// ** React Imports\r\nimport { Fragment } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\n// ** Third Party Components\r\nimport Proptypes from \"prop-types\"\r\nimport classnames from \"classnames\"\r\n\r\n// ** Reactstrap Imports\r\nimport {\r\n  Breadcrumb,\r\n  BreadcrumbItem\r\n} from \"reactstrap\"\r\n\r\nconst BreadCrumbs = (props) => {\r\n  // ** Props\r\n  const { data, title } = props\r\n\r\n  const renderBreadCrumbs = () => {\r\n    return data.map((item, index) => {\r\n      const Wrapper = item.link ? Link : Fragment\r\n      const isLastItem = data.length - 1 === index\r\n      return (\r\n        <BreadcrumbItem\r\n          tag=\"li\"\r\n          key={index}\r\n          active={!isLastItem}\r\n          className={classnames({ \"text-primary\": !isLastItem })}\r\n        >\r\n          <Wrapper {...(item.link ? { to: item.link } : {})}>\r\n            {item.title}\r\n          </Wrapper>\r\n        </BreadcrumbItem>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-header row\">\r\n      <div className=\"content-header-left col-md-9 col-12 mb-2\">\r\n        <div className=\"row breadcrumbs-top\">\r\n          <div className=\"col-12\">\r\n            {title ? (\r\n              <h2 className=\"content-header-title float-start mb-0\">{title}</h2>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <div className=\"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12\">\r\n              <Breadcrumb>\r\n                <BreadcrumbItem tag=\"li\">\r\n                  <Link to=\"/\">Home</Link>\r\n                </BreadcrumbItem>\r\n                {renderBreadCrumbs()}\r\n              </Breadcrumb>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default BreadCrumbs\r\n\r\n// ** PropTypes\r\nBreadCrumbs.propTypes = {\r\n  title: Proptypes.string.isRequired,\r\n  data: Proptypes.arrayOf(\r\n    Proptypes.shape({\r\n      link: Proptypes.string,\r\n      title: Proptypes.string.isRequired\r\n    })\r\n  )\r\n}\r\n"],"sourceRoot":""}