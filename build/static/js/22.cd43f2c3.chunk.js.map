{"version":3,"sources":["components/SignInButton/index.jsx","views/auth/login/index.js","assets/images/pages sync /^/.//.*$","assets/images/pages/error-dark.svg","assets/images/pages/error.svg","assets/images/pages/forgot-password-v2-dark.svg","assets/images/pages/forgot-password-v2.svg","assets/images/pages/login-v2-dark.svg","assets/images/pages/login-v2.svg","assets/images/pages/not-authorized-dark.svg","assets/images/pages/not-authorized.svg","assets/images/pages/register-v2-dark.svg","assets/images/pages/register-v2.svg"],"names":["SignInButton","instance","useMsal","_jsx","Button","className","color","onClick","loginType","loginPopup","loginRequest","console","log","loginRedirect","catch","e","children","Login","skin","useSkin","illustration","useNavigate","source","require","concat","default","isAuthenticated","useIsAuthenticated","_useMsal","accounts","request","_objectSpread","account","useEffect","acquireTokenSilent","then","res","dados","email","username","token","accessToken","httpRequest","method","body","r","setToken","access_token","setData","expires_in","Usuarios","getUser","window","location","href","error","logoutRedirect","_jsxs","Row","Col","lg","sm","src","alt","md","CardTitle","tag","logo","width","UnauthenticatedTemplate","AuthenticatedTemplate","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/22.cd43f2c3.chunk.js","sourcesContent":["import React from \"react\";\n\nimport { useMsal } from \"@azure/msal-react\";\nimport { loginRequest } from \"../../configs/authConfig\";\nimport { Button } from \"reactstrap\";\n\n/**\n * Renders a button which, when selected, will redirect the page to the login prompt\n */\nexport const SignInButton = () => {\n  const { instance } = useMsal();\n\n  const handleLogin = (loginType) => {\n\n    if (loginType === \"popup\") {\n        instance.loginPopup(loginRequest);\n    } else if (loginType === \"redirect\") {\n        console.log(\"aqui\")\n        instance.loginRedirect(loginRequest).catch(e => console.log(e));\n    }\n  };\n\n  return (\n    <Button\n      className=\"mt-2 w-100\"\n      color=\"primary\"\n      onClick={() => handleLogin(\"redirect\")}\n      key=\"loginRedirect\"\n    >\n      Entrar\n    </Button>\n  );\n};\n","import React, { useEffect } from \"react\";\r\nimport { useSkin } from \"@hooks/useSkin\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Row, Col, CardTitle } from \"reactstrap\";\r\nimport \"@styles/react/pages/page-authentication.scss\";\r\n\r\nimport {\r\n  AuthenticatedTemplate,\r\n  UnauthenticatedTemplate,\r\n  useIsAuthenticated,\r\n  useMsal,\r\n} from \"@azure/msal-react\";\r\nimport { loginRequest } from \"../../../configs/authConfig\";\r\nimport { SignInButton } from \"../../../components/SignInButton\";\r\nimport { httpRequest } from \"../../../services/Api\";\r\nimport { setToken, setData } from \"../../../services/Auth\";\r\nimport Usuarios from \"../../../services/Usuarios\";\r\n\r\nimport logo from \"../../../assets/images/logo/logo.png\";\r\n\r\nconst Login = () => {\r\n  const { skin } = useSkin();\r\n  let navigate = useNavigate();\r\n  const illustration = skin === \"dark\" ? \"login-v2-dark.svg\" : \"login-v2.svg\",\r\n    source = require(`@src/assets/images/pages/${illustration}`).default;\r\n\r\n  const isAuthenticated = useIsAuthenticated();\r\n\r\n  const { instance, accounts } = useMsal();\r\n\r\n  const request = {\r\n    ...loginRequest,\r\n    account: accounts[0],\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      instance\r\n        .acquireTokenSilent(request)\r\n        .then((res) => {\r\n          const dados = {\r\n            email: res.account.username,\r\n            token: res.accessToken,\r\n          };\r\n          httpRequest(`usuarios/login`, {\r\n            method: \"POST\",\r\n            body: dados,\r\n          })\r\n            .then((r) => {\r\n              setToken(r.body.access_token);\r\n              setData(r.body.expires_in);\r\n              Usuarios.getUser(true).then(() => {\r\n                window.location.href = \"./\";\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              instance.logoutRedirect().catch((error) => {\r\n                console.error(error);\r\n              });\r\n            });\r\n        })\r\n        .catch((error) => {\r\n          instance.logoutRedirect().catch((e) => {\r\n            console.error(e);\r\n          });\r\n        });\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  return (\r\n    <div className=\"auth-wrapper auth-cover\">\r\n      <Row className=\"auth-inner m-0\">\r\n        <Col className=\"d-none d-lg-flex align-items-center p-5\" lg=\"8\" sm=\"12\">\r\n          <div className=\"w-100 d-lg-flex align-items-center justify-content-center px-5\">\r\n            <img className=\"img-fluid\" src={source} alt=\"Login Cover\" />\r\n          </div>\r\n        </Col>\r\n        <Col\r\n          className=\"d-flex align-items-center auth-bg px-2 p-lg-5\"\r\n          lg=\"4\"\r\n          sm=\"12\"\r\n        >\r\n          <Col className=\"px-xl-2 mx-auto\" sm=\"8\" md=\"6\" lg=\"12\">\r\n            <CardTitle tag=\"h2\" className=\"fw-bold mb-1\">\r\n              <img className=\"me-1\" src={logo} width=\"32\" />\r\n              Trade DOC\r\n            </CardTitle>\r\n            <UnauthenticatedTemplate>\r\n              <SignInButton />\r\n            </UnauthenticatedTemplate>\r\n            <AuthenticatedTemplate>Carregando...</AuthenticatedTemplate>\r\n          </Col>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","var map = {\n\t\"./error-dark.svg\": 391,\n\t\"./error.svg\": 392,\n\t\"./forgot-password-v2-dark.svg\": 393,\n\t\"./forgot-password-v2.svg\": 394,\n\t\"./login-v2-dark.svg\": 395,\n\t\"./login-v2.svg\": 396,\n\t\"./not-authorized-dark.svg\": 397,\n\t\"./not-authorized.svg\": 398,\n\t\"./register-v2-dark.svg\": 399,\n\t\"./register-v2.svg\": 400\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 390;","export default __webpack_public_path__ + \"static/media/error-dark.6de97f7b.svg\";","export default __webpack_public_path__ + \"static/media/error.51731f25.svg\";","export default __webpack_public_path__ + \"static/media/forgot-password-v2-dark.593b4f61.svg\";","export default __webpack_public_path__ + \"static/media/forgot-password-v2.490e62f0.svg\";","export default __webpack_public_path__ + \"static/media/login-v2-dark.5b83e8c4.svg\";","export default __webpack_public_path__ + \"static/media/login-v2.2198399d.svg\";","export default __webpack_public_path__ + \"static/media/not-authorized-dark.c7c1ece5.svg\";","export default __webpack_public_path__ + \"static/media/not-authorized.e62938f3.svg\";","export default __webpack_public_path__ + \"static/media/register-v2-dark.7685db34.svg\";","export default __webpack_public_path__ + \"static/media/register-v2.4620a1e5.svg\";"],"sourceRoot":""}